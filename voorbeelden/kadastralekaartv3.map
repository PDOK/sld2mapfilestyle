MAP
  NAME          "kadastralekaartv3"
  INCLUDE       "header.inc"

  WEB
    METADATA
      "ows_title"               "kadastralekaartv3"
      "ows_abstract"            "kadastralekaartv3"
      "ows_keywordlist"         "PDOK Geopackage Mapserver kadastralekaartv3"
      # The disadvantage of setting an onlineresource URL is that the servername is fixed. It can't
      # be changed through an environment variable, or by modifying the Apache config.
      #"ows_onlineresource"      "http://localhost/maps/example?"
      "wfs_namespace_prefix"    "kadastralekaartv3"
      "wfs_namespace_uri"       "http://example.org/pdok/kadastralekaartv3"
    END
  END

  LAYER
    NAME "perceel_sf"
    STATUS ON
    TYPE POLYGON
    EXTENT 10000 300000 280000 625000

    METADATA
      "ows_title"               "perceel_sf"
      "wms_include_items"       "all"
      "gml_include_items"       "all"
      "gml_featureid"           "gid"
      "gml_geometries"          "geom"
      "ows_metadataurl_type"    "TC211"
      "ows_metadataurl_format"  "text/plain"
      "ows_metadataurl_href"    "http://nationaalgeoregister.nl/geonetwork/srv/dut/xml.metadata.get?uuid=123"
      "ows_group_title"         "kadastralekaartv3"
    END

    CONNECTIONTYPE OGR
    CONNECTION "/srv/data/kadastralekaartv3_perceel_sf.gpkg"
    DATA "select * from perceel_sf"
    PROCESSING "CLOSE_CONNECTION=DEFER"
    MINSCALEDENOM 100
    MAXSCALEDENOM 5000
    TEMPLATE "dummy"

    CLASSGROUP "dkk_perceel_met_annotatie_standaard"
    CLASS
      GROUP "dkk_perceel_met_annotatie_standaard"
      STYLE
        OUTLINECOLOR "#000001"
        MINSCALEDENOM 100.0
        MAXSCALEDENOM 5000.0
      END
      LABEL
        COLOR "#000000"
        FONT "liberation-sans-italic"
        TYPE truetype
        SIZE 12.8
        TEXT '[perceelnummer]'
        OFFSET 0 0
        ANGLE [perceelnummer_rotatie]
        MINSCALEDENOM 100.0
        MAXSCALEDENOM 500.0
      END
      LABEL
        COLOR "#000000"
        FONT "liberation-sans-italic"
        TYPE truetype
        SIZE 6.4
        TEXT '[perceelnummer]'
        OFFSET 0 0
        ANGLE [perceelnummer_rotatie]
        MINSCALEDENOM 500.0
        MAXSCALEDENOM 5000.0
      END
    END

  END # LAYER

END # MAP
