MAP
  NAME          "nwbwegen"
  INCLUDE       "header.inc"

  WEB
    METADATA
      "ows_title"               "NWB wegen"
      "ows_abstract"            "NWB wegen"
      "ows_keywordlist"         "PDOK Geopackage Mapserver NWB wegen"
      # The disadvantage of setting an onlineresource URL is that the servername is fixed. It can't
      # be changed through an environment variable, or by modifying the Apache config.
      #"ows_onlineresource"      "http://localhost/maps/example?"
      "wfs_namespace_prefix"    "nwbwegen"
      "wfs_namespace_uri"       "http://example.org/pdok/nwbwegen"
    END
  END

  LAYER
    NAME "wegvakken"
    STATUS ON
    TYPE LINE
    EXTENT 10000 300000 280000 625000

    METADATA
      "ows_title"               "wegvakken"
      "wms_include_items"       "all"
      "gml_include_items"       "all"
      "gml_featureid"           "gid"
      "gml_geometries"          "geom"
      "ows_metadataurl_type"    "TC211"
      "ows_metadataurl_format"  "text/plain"
      "ows_metadataurl_href"    "http://nationaalgeoregister.nl/geonetwork/srv/dut/xml.metadata.get?uuid=123"
      "ows_group_title"         "nwbwegen"
    END

    CONNECTIONTYPE OGR
    CONNECTION "/srv/data/nwbwegen.gpkg"
    DATA "select * from wegvakken"
    PROCESSING "CLOSE_CONNECTION=DEFER"
    MINSCALEDENOM 0
    MAXSCALEDENOM 50000
    TEMPLATE "dummy"

    CLASSGROUP "wegvakken"
    CLASSITEM wegbehsrt
    CLASS
      NAME "Gemeente"
      GROUP "wegvakken"
      EXPRESSION "G"
      STYLE
        COLOR "#a5a5a5"
        WIDTH 0.43
        OPACITY 100
        MAXSCALEDENOM 50000
      END
    END
    CLASS
      NAME "Provincie"
      GROUP "wegvakken"
      EXPRESSION "P"
      STYLE
        COLOR "#fe8419"
        WIDTH 2
        OPACITY 100
        MAXSCALEDENOM 50000
      END
    END
    CLASS
      NAME "Rijk"
      GROUP "wegvakken"
      EXPRESSION "R"
      STYLE
        COLOR "#ff0000"
        WIDTH 2
        OPACITY 100
        MAXSCALEDENOM 50000
      END
    END
    CLASS
      NAME "Overig"
      GROUP "wegvakken"
      EXPRESSION "T"
      STYLE
        COLOR "#b30ffe"
        WIDTH 0.43
        OPACITY 100
        MAXSCALEDENOM 50000
      END
    END
    CLASS
      NAME "Waterschap"
      GROUP "wegvakken"
      EXPRESSION "W"
      STYLE
        COLOR "#14a4ab"
        WIDTH 0.43
        OPACITY 100
        MAXSCALEDENOM 50000
      END
    END

  END # LAYER

  LAYER
    NAME "hectopunten"
    STATUS ON
    TYPE POINT
    EXTENT 10000 300000 280000 625000

    METADATA
      "ows_title"               "hectopunten"
      "wms_include_items"       "all"
      "gml_include_items"       "all"
      "gml_featureid"           "gid"
      "gml_geometries"          "geom"
      "ows_metadataurl_type"    "TC211"
      "ows_metadataurl_format"  "text/plain"
      "ows_metadataurl_href"    "http://nationaalgeoregister.nl/geonetwork/srv/dut/xml.metadata.get?uuid=123"
      "ows_group_title"         "nwbwegen"
    END

    CONNECTIONTYPE OGR
    CONNECTION "/srv/data/nwbwegen.gpkg"
    DATA "select * from hectopunten"
    PROCESSING "CLOSE_CONNECTION=DEFER"
    MINSCALEDENOM 0
    MAXSCALEDENOM 50000
    TEMPLATE "dummy"

    CLASSGROUP "hectopunten_met_labels"
    CLASS
      NAME "Hectopunten"
      GROUP "hectopunten_met_labels"
      STYLE
        SYMBOL "Hectopunten-1"
        SIZE 6
        COLOR "#808080"
        OUTLINECOLOR "#000000"
        OUTLINEWIDTH 1
        MAXSCALEDENOM 50000
      END
      LABEL
        COLOR "#000000"
        FONT "liberation-sans"
        TYPE truetype
        SIZE 6.4
        TEXT '[hectometerang]'
        OFFSET -12 12
        MAXSCALEDENOM 50000
      END
    END

    CLASS
      NAME "NWB_wegen_hectopunten"
      GROUP "hectopunten"
      STYLE
        SYMBOL "NWB_wegen_hectopunten-1"
        SIZE 2
        COLOR "#500082"
        OPACITY 100
        OUTLINECOLOR "#000000"
        OPACITY 100
        MAXSCALEDENOM 50000
      END
    END

  END # LAYER

  SYMBOL
    NAME "Hectopunten-1"
    TYPE vector
    POINTS 0 0 1 0 1 1 0 1 0 0 END
    FILLED true
    ANCHORPOINT 0.5 0.5
  END

  SYMBOL
    NAME "NWB_wegen_hectopunten-1"
    TYPE ellipse
    POINTS 1 1 END
    FILLED true
    ANCHORPOINT 0.5 0.5
  END

END # MAP
